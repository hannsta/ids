<!doctype html>
<html ng-app="ids">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Idaho Statute Search</title>
<script src="https://code.angularjs.org/1.3.0/angular.js"
	type="text/javascript"></script>
<script src="https://code.angularjs.org/1.3.0/angular-route.min.js"
	type="text/javascript"></script>
<script src="https://code.angularjs.org/1.3.0/angular-sanitize.min.js"
	type="text/javascript"></script>
<script src="/js/IdsModule.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.tpl.js"></script>
<style type="text/css">
[ng\:cloak], [ng-cloak], .ng-cloak {
	display: none !important;
}
</style>

<link rel="stylesheet" type="text/css" href="./css/ids.css">
</head>

<!-- Home page is primarily a document list display controlled through the parent module resultDisplay
search and favorite feed this
-->
<body ng-app="ids" ng-controller="resultDisplay">

	<!-- horizontal nav -->
	<nav class="navbar navbar-expand-lg navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
			        <span class="sr-only">Toggle navigation</span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
			        <span class="icon-bar"></span>
	      		</button>
				<a class="navbar-brand" href="#" style="margin-top:-10px"><img src="/images/state_seal.svg" alt="Idaho Statutes" height="40px" width="40px"></a>
			</div>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav">
					<li><a href="/register">Register</a></li>
					<li><a href="/login">Login</a></li>
					<li role="separator" class="divider"></li>
					<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Search <span class="caret"></span></a>
						<ul class="dropdown-menu" id="dropdown-menu">
         					<li ng-controller="search">
      							<div class="input-group">
									<span class="input-group-btn">
							    		<button class="btn btn-default" type="button" ng-click="search()" onclick="clearSearchText()">Go</button>
							    	</span>
							    	<input type="text" class="form-control" ng-model="searchText" placeholder="Search for..." id="searchTextBox">
					    		</div>
      						</li>
         				</ul>
         			</li>
         			<li role="separator" class="divider"></li>
         			<li class="dropdown">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Favorites <span class="caret"></span></a>
						<ul class="dropdown-menu" id="dropdown-menu" ng-controller="favorites">
     						<li>
     							<div class="input-group">
									<span class="input-group-btn">
						    			<button class="btn btn-default" type="button" ng-click="addFavorite()" onclick="clearFavoriteBox()">Submit</button>
						    		</span>
						    		<input type="text" class="form-control" ng-model="favoriteName" placeholder="New Fav Folder..." id="favoriteBox">
				    			</div>
     						</li>
         					<li class="list-group">
								<a ng-repeat="fav in favorites" href='#' class="list-group-item list-group-item-action" ng-click="getFavorites(fav.name)">{{fav.name}}</a>
							</li>
         				</ul>
         			</li>
				</ul>
			</div>
		</div>
	</nav>


	<!--  Import result display template -->
	<main id="main" class="container">
		<div class="row" ng-include src="'/ResultDisplayTemplate'"></div>
	</main>
	
	<script>		
		var expandRow = function(ele) {
			if (ele.parentElement.parentElement.parentElement.childNodes[2].style.display != 'none') {
				ele.parentElement.parentElement.parentElement.childNodes[2].style.display='none';
			} else { ele.parentElement.parentElement.parentElement.childNodes[2].style.display=''}
		}
		
		function clearSearchText() {
			document.getElementById("searchTextBox").value = '';
		}
		
		function clearFavoriteBox() {
			document.getElementById("favoriteBox").value = '';
		}
	</script>
</body>

</html>