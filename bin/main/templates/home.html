<!doctype html>
<html ng-app="ids">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hello AngularJS</title>
<script src="https://code.angularjs.org/1.3.0/angular.js"
	type="text/javascript"></script>
<script src="https://code.angularjs.org/1.3.0/angular-route.min.js"
	type="text/javascript"></script>
<script src="https://code.angularjs.org/1.3.0/angular-sanitize.min.js"
	type="text/javascript"></script>
<script src="/js/IdsModule.js"></script>
<script src="/js/IdsOther.js"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/angular-strap/2.3.12/angular-strap.tpl.js"></script>
<style type="text/css">
[ng\:cloak], [ng-cloak], .ng-cloak {
	display: none !important;
}
</style>

<link rel="stylesheet" type="text/css" href="./css/ids.css">
</head>

<!-- Home page is primarily a document list display controlled through the parent module resultDisplay
search and favorite feed this
-->
<body ng-app="ids" ng-controller="resultDisplay">

	<!-- horizontal nav -->
	<nav class="navbar navbar-inverse">
		<div class="container-fluid">
			<div class="navbar-header">
				<a class="navbar-brand" href="#">Idaho Statutes</a>
			</div>
			<div class="navbar-right">
				<div class="collapse navbar-collapse">
					<ul class="nav navbar-nav">
						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Menu <span class="caret"></span></a>
							<ul class="dropdown-menu" id="dropdown-menu">
								<li><a href="#">Register</a></li>
								<li><a href="#">Login</a></li>
								<li role="separator" class="divider"></li>
								<li class="dropdown-submenu">
          							<a href="#" class="test" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Search <span class="caret"></span></a>
          							<ul class="dropdown-menu">
          								<li ng-controller="search">
          									<div class="input-group">
												<span class="input-group-btn">
											    	<button class="btn btn-default" type="button" ng-click="search()">Go</button>
											    </span>
											    <input type="text" class="form-control" ng-model="searchText" placeholder="Search for...">
									    	</div>
          								</li>
          							</ul>
          						</li>
          						<li role="separator" class="divider"></li>
								<li class="dropdown-submenu">
          							<a href="#" class="test" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Favorites <span class="caret"></span></a>
          							<ul class="dropdown-menu" ng-controller="favorites">
          								<li>
          									<div class="input-group">
												<span class="input-group-btn">
											    	<button class="btn btn-default" type="button" ng-click="addFavorite()">Submit</button>
											    </span>
											    <input type="text" class="form-control" ng-model="favoriteName" placeholder="New Fav Folder...">
									    	</div>
          								</li>
          								<li class="list-group">
											<a ng-repeat="fav in favorites" href='#' class="list-group-item list-group-item-action" ng-click="getFavorites(fav.name)">{{fav.name}}</a>
										</li>
          							</ul>
          						</li>
							</ul>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</nav>

	<!-- Dropdown side bar -->

<!-- 	<nav ng-model="subview" id="mySidebar" style="display: none">
		<ul class="list-group">
			<a href="javascript:void(0)" onclick="w3_close()"
				class="w3-closenav w3-large">Close &times;</a>
			<a href='#' class="list-group-item list-group-item-action"
				ng-click="subview = 3">Register</a>
			<a href='#' class="list-group-item list-group-item-action"
				ng-click="subview = 2">Login</a>

			<a href='#' class="list-group-item list-group-item-action"
				data-toggle="collapse" aria-expanded="false"
				data-target="#searchDiv">Search</a>

			 Search bar
			<div id="searchDiv" ng-controller="search">
				<input ng-model="searchText">
				<button ng-click="search()">Go</button>
			</div>

			<a href='#' class="list-group-item list-group-item-action"
				data-toggle="collapse" aria-expanded="false" data-target="#favDiv">Favorites</a>

			Favorite drop down
			<div id="favDiv" ng-controller="favorites">
				<ul class="list-group">
					<a ng-repeat="fav in favorites" href='#'
						class="list-group-item list-group-item-action"
						ng-click="getFavorites(fav.name)">{{fav.name}}</a>
				</ul>
				<input ng-model="favoriteName">
				<button ng-click="addFavorite()">New</button>
			</div>
		</ul>
	</nav> -->

	<!--  Import result display template -->
	<main id="main" class="container">
		<div class="row" ng-include src="'/ResultDisplayTemplate'"></div>
	</main>
	
	<script>
		$(document).ready(function(){
			$('.dropdown-submenu a.test').on("click", function(e){
		    	$(this).next('ul').toggle();
		    	e.stopPropagation();
		    	e.preventDefault();
		  	});
		});
		
		var expandRow = function(ele) {
			if (ele.parentElement.parentElement.parentElement.childNodes[2].style.display != 'none') {
				ele.parentElement.parentElement.parentElement.childNodes[2].style.display='none';
			} else { ele.parentElement.parentElement.parentElement.childNodes[2].style.display=''}
		}
	</script>
</body>

</html>